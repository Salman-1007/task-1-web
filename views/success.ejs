<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/header') %>
        <style>
            /* Modern UI Reset & Background */
            
            .page-wrapper {
                background: radial-gradient(circle at top right, #e0e7ff, #f8fafc);
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
            }
            /* Glassmorphism Card */
            
            .success-card {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.3);
                border-radius: 32px;
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
                max-width: 550px;
                width: 100%;
                padding: 3rem !important;
                text-align: center;
            }
            /* Animated Success Icon */
            
            .icon-circle {
                width: 100px;
                height: 100px;
                background: #dcfce7;
                color: #22c55e;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 1.5rem;
                font-size: 3rem;
                animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            }
            /* Typography */
            
            h1 {
                color: #1e293b;
                font-weight: 800;
                letter-spacing: -0.025em;
            }
            
            .order-badge {
                background: #e0e7ff;
                color: #4338ca;
                padding: 6px 16px;
                border-radius: 99px;
                font-family: monospace;
                font-weight: 700;
                font-size: 0.9rem;
            }
            /* Order Details Box */
            
            .order-info-grid {
                background: #f1f5f9;
                border-radius: 20px;
                padding: 20px;
                margin: 2rem 0;
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                text-align: left;
            }
            
            .info-label {
                font-size: 0.75rem;
                text-transform: uppercase;
                color: #64748b;
                font-weight: 700;
                display: block;
            }
            
            .info-value {
                font-size: 0.95rem;
                color: #0f172a;
                font-weight: 600;
            }
            /* Premium Buttons */
            
            .btn-stack {
                display: flex;
                flex-direction: column;
                gap: 12px;
            }
            
            .btn-main {
                background: #0f172a;
                color: white;
                border: none;
                padding: 14px;
                border-radius: 16px;
                font-weight: 600;
                transition: all 0.2s;
                text-decoration: none;
            }
            
            .btn-main:hover {
                background: #334155;
                transform: translateY(-2px);
                color: white;
            }
            
            .btn-secondary-custom {
                background: white;
                color: #475569;
                border: 1px solid #e2e8f0;
                padding: 14px;
                border-radius: 16px;
                font-weight: 600;
                transition: all 0.2s;
                text-decoration: none;
            }
            
            .btn-secondary-custom:hover {
                background: #f8fafc;
                color: #0f172a;
            }
            
            @keyframes scaleIn {
                from {
                    transform: scale(0);
                    opacity: 0;
                }
                to {
                    transform: scale(1);
                    opacity: 1;
                }
            }
        </style>
</head>

<body>

    <div class="page-wrapper">
        <div class="success-card">
            <div class="icon-circle">
                <i class="fas fa-check"></i>
            </div>

            <h1 class="display-6">Order Confirmed!</h1>

            <% if (typeof order !== 'undefined' && order && order.orderNumber !== 'ORD-REFRESHED') { %>
                <p class="text-muted mt-2">
                    We've sent a receipt to <span class="fw-bold text-dark"><%= order.email %></span>
                </p>

                <div class="order-info-grid">
                    <div>
                        <span class="info-label">Order Number</span>
                        <span class="info-value">#<%= order.orderNumber.split('-')[1] %></span>
                    </div>
                    <div class="text-end">
                        <span class="info-label">Amount Paid</span>
                        <span class="info-value text-primary">$<%= parseFloat(order.total).toFixed(2) %></span>
                    </div>
                    <div class="col-span-2">
                        <span class="info-label">Shipping To</span>
                        <span class="info-value"><%= order.customerName %></span><br>
                        <small class="text-muted"><%= order.address %>, <%= order.city %></small>
                    </div>
                </div>
                <% } else { %>
                    <p class="text-muted mt-2 mb-5">
                        Thank you for your purchase. Your order is being processed and will ship shortly.
                    </p>
                    <% } %>

                        <div class="btn-stack">
                            <a href="/orders" class="btn-main">
                                <i class="fas fa-box-open me-2"></i> Track Your Order
                            </a>
                            <a href="/products" class="btn-secondary-custom">
                Continue Shopping
            </a>
                        </div>

                        <p class="mt-4 mb-0">
                            <a href="/contact" class="text-muted small text-decoration-none">Need help? Contact Support</a>
                        </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        window.onload = function() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: {
                    y: 0.6
                },
                colors: ['#4f46e5', '#22c55e', '#f59e0b']
            });
        };
    </script>

    <%- include('partials/footer') %>
</body>

</html>